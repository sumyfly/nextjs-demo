# Vercel.json é…ç½®å‚æ•°è¯¦è§£

## ğŸ“‹ åŸºç¡€é…ç½®

### `$schema`
- **ç±»å‹**: `string`
- **è¯´æ˜**: JSON Schema URLï¼Œæä¾›IDEè‡ªåŠ¨è¡¥å…¨å’ŒéªŒè¯
- **ç¤ºä¾‹**: `"https://openapi.vercel.sh/vercel.json"`

### `name`
- **ç±»å‹**: `string`
- **è¯´æ˜**: é¡¹ç›®åç§°ï¼Œä¼šæ˜¾ç¤ºåœ¨Vercelä»ªè¡¨æ¿
- **ç¤ºä¾‹**: `"nextjs-dynamic-route-demo"`

### `version`
- **ç±»å‹**: `number`
- **è¯´æ˜**: Vercelå¹³å°ç‰ˆæœ¬ï¼Œæ¨èä½¿ç”¨2
- **é»˜è®¤å€¼**: `2`

## ğŸ—ï¸ æ„å»ºé…ç½®

### `build`
- **ç±»å‹**: `object`
- **è¯´æ˜**: æ„å»ºç¯å¢ƒé…ç½®
- **å­é…ç½®**:
  - `env`: æ„å»ºæ—¶ç¯å¢ƒå˜é‡

### `buildCommand`
- **ç±»å‹**: `string`
- **è¯´æ˜**: è‡ªå®šä¹‰æ„å»ºå‘½ä»¤
- **é»˜è®¤å€¼**: æ ¹æ®æ¡†æ¶è‡ªåŠ¨æ£€æµ‹
- **ç¤ºä¾‹**: `"npm run build"`

### `outputDirectory`
- **ç±»å‹**: `string`
- **è¯´æ˜**: æ„å»ºè¾“å‡ºç›®å½•
- **é»˜è®¤å€¼**: æ ¹æ®æ¡†æ¶è‡ªåŠ¨æ£€æµ‹
- **ç¤ºä¾‹**: `".next"`

### `installCommand`
- **ç±»å‹**: `string`
- **è¯´æ˜**: ä¾èµ–å®‰è£…å‘½ä»¤
- **é»˜è®¤å€¼**: è‡ªåŠ¨æ£€æµ‹åŒ…ç®¡ç†å™¨
- **ç¤ºä¾‹**: `"npm install"`

### `devCommand`
- **ç±»å‹**: `string`
- **è¯´æ˜**: å¼€å‘æœåŠ¡å™¨å¯åŠ¨å‘½ä»¤
- **ç¤ºä¾‹**: `"npm run dev"`

### `framework`
- **ç±»å‹**: `string`
- **è¯´æ˜**: æ¡†æ¶ç±»å‹ï¼Œå¸®åŠ©Vercelä¼˜åŒ–éƒ¨ç½²
- **å¯é€‰å€¼**: `"nextjs"`, `"create-react-app"`, `"vue"`, `"nuxtjs"`, ç­‰
- **ç¤ºä¾‹**: `"nextjs"`

## âš¡ å‡½æ•°é…ç½®

### `functions`
- **ç±»å‹**: `object`
- **è¯´æ˜**: Serverlesså‡½æ•°é…ç½®
- **å­é…ç½®**:
  - `runtime`: è¿è¡Œæ—¶ç¯å¢ƒ (`"nodejs18.x"`, `"nodejs16.x"`, `"python3.9"`, ç­‰)
  - `maxDuration`: æœ€å¤§æ‰§è¡Œæ—¶é—´ï¼ˆç§’ï¼‰
  - `memory`: å†…å­˜å¤§å°ï¼ˆMBï¼‰
  - `regions`: éƒ¨ç½²åŒºåŸŸ

## ğŸŒ è·¯ç”±é…ç½®

### `routes`
- **ç±»å‹**: `array`
- **è¯´æ˜**: è‡ªå®šä¹‰è·¯ç”±è§„åˆ™
- **å±æ€§**:
  - `src`: æºè·¯å¾„ï¼ˆæ”¯æŒæ­£åˆ™ï¼‰
  - `dest`: ç›®æ ‡è·¯å¾„
  - `status`: HTTPçŠ¶æ€ç 
  - `headers`: è‡ªå®šä¹‰å“åº”å¤´

### `rewrites`
- **ç±»å‹**: `array`
- **è¯´æ˜**: URLé‡å†™è§„åˆ™ï¼ˆå†…éƒ¨è·³è½¬ï¼ŒURLä¸å˜ï¼‰
- **å±æ€§**:
  - `source`: æºè·¯å¾„
  - `destination`: ç›®æ ‡è·¯å¾„

### `redirects`
- **ç±»å‹**: `array`
- **è¯´æ˜**: URLé‡å®šå‘è§„åˆ™ï¼ˆå¤–éƒ¨è·³è½¬ï¼ŒURLæ”¹å˜ï¼‰
- **å±æ€§**:
  - `source`: æºè·¯å¾„
  - `destination`: ç›®æ ‡è·¯å¾„
  - `permanent`: æ˜¯å¦æ°¸ä¹…é‡å®šå‘ï¼ˆ301 vs 302ï¼‰
  - `statusCode`: è‡ªå®šä¹‰çŠ¶æ€ç 

## ğŸ”’ å®‰å…¨é…ç½®

### `headers`
- **ç±»å‹**: `array`
- **è¯´æ˜**: è‡ªå®šä¹‰HTTPå“åº”å¤´
- **å¸¸ç”¨å®‰å…¨å¤´**:
  - `X-Content-Type-Options: nosniff` - é˜²æ­¢MIMEç±»å‹å—…æ¢
  - `X-Frame-Options: DENY` - é˜²æ­¢ç‚¹å‡»åŠ«æŒ
  - `X-XSS-Protection: 1; mode=block` - XSSä¿æŠ¤
  - `Referrer-Policy` - å¼•ç”¨ç­–ç•¥
  - `Permissions-Policy` - æƒé™ç­–ç•¥
  - `Content-Security-Policy` - å†…å®¹å®‰å…¨ç­–ç•¥

## ğŸŒ ç¯å¢ƒä¸éƒ¨ç½²

### `env`
- **ç±»å‹**: `object`
- **è¯´æ˜**: ç”Ÿäº§ç¯å¢ƒå˜é‡
- **æ³¨æ„**: æ•æ„Ÿä¿¡æ¯åº”åœ¨Vercelä»ªè¡¨æ¿è®¾ç½®

### `regions`
- **ç±»å‹**: `array`
- **è¯´æ˜**: éƒ¨ç½²åŒºåŸŸåˆ—è¡¨
- **å¯é€‰å€¼**: 
  - `"iad1"` - ç¾å›½ä¸œéƒ¨ï¼ˆå¼—å‰å°¼äºšï¼‰
  - `"hnd1"` - äºšæ´²ï¼ˆä¸œäº¬ï¼‰
  - `"fra1"` - æ¬§æ´²ï¼ˆæ³•å…°å…‹ç¦ï¼‰
  - `"sfo1"` - ç¾å›½è¥¿éƒ¨ï¼ˆæ—§é‡‘å±±ï¼‰

## ğŸ¨ URLç¾åŒ–

### `cleanUrls`
- **ç±»å‹**: `boolean`
- **è¯´æ˜**: ç§»é™¤URLä¸­çš„.htmlæ‰©å±•å
- **é»˜è®¤å€¼**: `false`
- **ç¤ºä¾‹**: `/about.html` â†’ `/about`

### `trailingSlash`
- **ç±»å‹**: `boolean`
- **è¯´æ˜**: URLæœ«å°¾æ˜¯å¦æ·»åŠ æ–œæ 
- **é»˜è®¤å€¼**: `false`
- **ç¤ºä¾‹**: `/about` vs `/about/`

## ğŸ™ Gité›†æˆ

### `github`
- **ç±»å‹**: `object`
- **è¯´æ˜**: GitHubé›†æˆé…ç½®
- **å­é…ç½®**:
  - `enabled`: å¯ç”¨GitHubé›†æˆ
  - `autoAlias`: è‡ªåŠ¨ä¸ºåˆ†æ”¯åˆ›å»ºåˆ«å

## â° å®šæ—¶ä»»åŠ¡

### `crons`
- **ç±»å‹**: `array`
- **è¯´æ˜**: å®šæ—¶ä»»åŠ¡é…ç½®ï¼ˆéœ€è¦Proè®¡åˆ’ï¼‰
- **å±æ€§**:
  - `path`: APIè·¯å¾„
  - `schedule`: Cronè¡¨è¾¾å¼

## ğŸ–¼ï¸ å›¾ç‰‡ä¼˜åŒ–

### `images`
- **ç±»å‹**: `object`
- **è¯´æ˜**: Next.jså›¾ç‰‡ä¼˜åŒ–é…ç½®
- **å­é…ç½®**:
  - `domains`: å…è®¸çš„å¤–éƒ¨å›¾ç‰‡åŸŸå
  - `sizes`: å“åº”å¼å›¾ç‰‡å°ºå¯¸
  - `formats`: æ”¯æŒçš„å›¾ç‰‡æ ¼å¼
  - `minimumCacheTTL`: æœ€å°ç¼“å­˜æ—¶é—´
  - `dangerouslyAllowSVG`: æ˜¯å¦å…è®¸SVG

## âš¡ Edge Functions

### `edge`
- **ç±»å‹**: `object`
- **è¯´æ˜**: Edge Functionsé…ç½®
- **å­é…ç½®**:
  - `regions`: Edgeéƒ¨ç½²åŒºåŸŸ

## ğŸ”„ å¢é‡é™æ€å†ç”Ÿæˆ

### `isr`
- **ç±»å‹**: `object`
- **è¯´æ˜**: ISRé…ç½®
- **å­é…ç½®**:
  - `expiration`: ç¼“å­˜è¿‡æœŸæ—¶é—´ï¼ˆç§’ï¼‰
  - `allowQuery`: å…è®¸çš„æŸ¥è¯¢å‚æ•°

## ğŸ”§ é«˜çº§é…ç½®

### `outputFileTracing`
- **ç±»å‹**: `boolean`
- **è¯´æ˜**: å¯ç”¨æ–‡ä»¶è·Ÿè¸ªä¼˜åŒ–
- **é»˜è®¤å€¼**: `true`

### `public`
- **ç±»å‹**: `boolean`
- **è¯´æ˜**: é¡¹ç›®æ˜¯å¦å…¬å¼€å¯è§
- **é»˜è®¤å€¼**: `false`

### `source`
- **ç±»å‹**: `string`
- **è¯´æ˜**: æºä»£ç è·¯å¾„æ¨¡å¼
- **é»˜è®¤å€¼**: `"**"`

### `ignoreCommand`
- **ç±»å‹**: `string`
- **è¯´æ˜**: è·³è¿‡æ„å»ºçš„æ¡ä»¶å‘½ä»¤
- **ç¤ºä¾‹**: `"git diff --quiet HEAD^ HEAD ./"`

### `nodeVersion`
- **ç±»å‹**: `string`
- **è¯´æ˜**: Node.jsç‰ˆæœ¬
- **å¯é€‰å€¼**: `"18.x"`, `"16.x"`, `"14.x"`

### `supportsResponseStreaming`
- **ç±»å‹**: `boolean`
- **è¯´æ˜**: æ”¯æŒå“åº”æµ
- **é»˜è®¤å€¼**: `false`

### `middleware`
- **ç±»å‹**: `object`
- **è¯´æ˜**: Next.jsä¸­é—´ä»¶é…ç½®
- **å­é…ç½®**:
  - `matcher`: åŒ¹é…è·¯å¾„æ¨¡å¼

## ğŸ“š ä½¿ç”¨å»ºè®®

### æœ€å°é…ç½®
```json
{
  "version": 2,
  "framework": "nextjs"
}
```

### ç”Ÿäº§ç¯å¢ƒæ¨èé…ç½®
```json
{
  "version": 2,
  "framework": "nextjs",
  "regions": ["iad1", "hnd1"],
  "cleanUrls": true,
  "trailingSlash": false,
  "headers": [
    {
      "source": "/(.*)",
      "headers": [
        {
          "key": "X-Content-Type-Options",
          "value": "nosniff"
        }
      ]
    }
  ]
}
```

## âš ï¸ æ³¨æ„äº‹é¡¹

1. **ç¯å¢ƒå˜é‡å®‰å…¨**: æ•æ„Ÿä¿¡æ¯ä¸è¦å†™åœ¨`vercel.json`ä¸­
2. **åŒºåŸŸé€‰æ‹©**: æ ¹æ®ç”¨æˆ·åœ°ç†ä½ç½®é€‰æ‹©åˆé€‚çš„åŒºåŸŸ
3. **ç¼“å­˜ç­–ç•¥**: åˆç†è®¾ç½®ç¼“å­˜æ—¶é—´
4. **å®‰å…¨å¤´**: ç”Ÿäº§ç¯å¢ƒåŠ¡å¿…æ·»åŠ å®‰å…¨å“åº”å¤´
5. **æ–‡ä»¶å¤§å°**: `vercel.json`æ–‡ä»¶ä¸åº”è¿‡å¤§ 